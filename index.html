<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title id="page-title">مشاوره تغذیه آنلاین - دکتر بهروز رسایی</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --card: #ffffff;
      --radius: 14px;
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.04);
      --accent: #5c6ac4;
      --text: #1f2d3a;
      --muted: #6e7d91;
      font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      line-height: 1.45;
      -webkit-font-smoothing: antialiased;
    }

    .container {
      max-width: 1100px !important;
      margin: 0 auto;
      padding: 1rem 1rem 4rem;
    }

    header {
      padding: 1rem 0;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .logo {
      font-weight: 700;
      font-size: 1.25rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
      padding: 12px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
    }

    .hero {
      background: linear-gradient(135deg, #f0f4fc 0%, #ffffff 60%);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .hero-content {
      max-width: 700px;
    }

    .badge {
      display: inline-block;
      background: #ffe8b5;
      color: #6a4f1d;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-bottom: 8px;
    }

    h1 {
      margin: 0;
      font-size: 2rem;
    }

    p.lead {
      margin: 0.75rem 0 1.5rem;
      color: var(--muted);
    }

    .currency-switcher {
      margin-top: 1rem;
      display: inline-flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .currency-switcher button {
      border: 1px solid rgba(0, 0, 0, 0.1);
      background: #fff;
      padding: 8px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }

    .currency-switcher button.active {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent);
    }

    .cards {
      display: grid;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    @media(min-width:850px) {
      .hero {
        grid-template-columns: 1fr 1fr;
      }

      .cards {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 1.75rem 1.5rem;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .card h3 {
      margin: 0;
      font-size: 1.25rem;
    }

    .price {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 4px 0 8px;
    }

    .features {
      list-style: none;
      padding: 0;
      margin: 0 0 12px;
      flex-grow: 1;
    }

    .features li {
      font-size: 0.95rem;
      margin-bottom: 7px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .feature-check {
      color: var(--accent);
      font-size: 1.1em;
      margin-left: 4px;
      display: inline-block;
    }

    .small {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .pill {
      background: rgba(92, 106, 196, 0.1);
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 0.6rem;
      display: inline-block;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .cta {
      margin-top: 2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
    }

    .secondary {
      background: #fff;
      color: var(--accent);
      border: 2px solid var(--accent);
    }

    .section {
      margin-top: 3rem;
    }

    .grid-2 {
      display: grid;
      gap: 1.5rem;
    }

    @media(min-width:900px) {
      .grid-2 {
        grid-template-columns: 1fr 1fr;
      }
    }

    .faq {
      background: var(--card);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
    }

    .followups {
      background: #eef5ff;
      border-radius: 12px;
      padding: 1.5rem;
    }

    .price-tag {
      display: inline-block;
      background: #f0f4fc;
      padding: 4px 10px;
      border-radius: 8px;
      font-size: 0.75rem;
      margin-right: 4px;
    }

    footer {
      margin-top: 4rem;
      text-align: center;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .badge-new {
      background: #ffdaee;
      color: #9d0f6a;
    }

    .shadow {
      --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
      --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
    }

    .p-6 {
      padding: 1.5rem;
    }

    .bg-white {
      --tw-bg-opacity: 1;
      background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));
      border-radius: 16px;
    }

    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    .px-3 {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }

    .bg-gray-100 {
      --tw-bg-opacity: 1;
      background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));
    }

    .rounded {
      border-radius: 0.25rem;
    }

    .featured-card {
      border: 2px solid #5c6ac4;
    }
    .price-row {
      display: flex;
      align-items: baseline;
      gap: 10px;
      margin: 4px 0 8px;
      direction: rtl;
    }
    .price-row .old-price {
      text-decoration: line-through;
      color: #b0b0b0;
      font-size: 1.1rem;
      font-weight: 400;
      order: 2;
      margin-right: 0;
      margin-left: 0;
    }
    .price-row .price {
      font-size: 2rem;
      font-weight: 800;
      color: var(--accent);
      order: 1;
      background: none;
      box-shadow: none;
      margin: 0;
    }
    @media (max-width: 600px) {
      .price-row {
        gap: 6px;
      }
      .price-row .price {
        font-size: 1.4rem;
      }
      .price-row .old-price {
        font-size: 1rem;
      }
    }
  </style>

</head>

<body>
  <div class="container" id="main-container">
    <header>
      <div class="logo">
        <div style="font-size:1.5rem;">🍏</div>
        <div id="logo-text">
          مشاوره تغذیه آنلاین<br><strong>دکتر بهروز رسایی</strong>
        </div>
      </div>
      <div style="display:flex; align-items:center; gap:10px;">
        <button id="lang-toggle" class="btn-primary secondary" style="font-size:1rem; padding:6px 14px; min-width:60px;">EN</button>
        <a href="#contact" class="btn-primary" id="book-button">رزرو جلسه</a>
      </div>
    </header>

    <section class="hero" aria-label="Service Introduction" id="hero-section">
      <div class="hero-content">
        <div class="badge" id="hero-badge">ویژه مراجعین خارج از کشور</div>
        <h1 id="hero-title">دسترسی به مشاوره تخصصی تغذیه با تعرفه تعدیل شده</h1>
        <p class="lead" id="hero-description">
          هدف گسترش دسترسی ایرانیان خارج از کشور به خدمات رسمی تغذیه است. مشاوره کامل شخصی‌سازی‌شده، پیگیری‌های حمایتی و
          طراحی رژیم با توجه به وضعیت بالینی شما.
        </p>
        <div class="cta">
          <a href="#pricing" class="btn-primary" id="see-pricing-button">دیدن تعرفه‌ها</a>
        </div>
      </div>
      <div aria-hidden="true">
        <!-- Illustration placeholder -->
        <svg width="100%" height="100%" viewBox="0 0 400 300" preserveAspectRatio="xMidYMid meet"
          style="max-height:260px;">
          <rect width="400" height="300" rx="20" fill="rgba(92,106,196,0.08)" />
          <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="20"
            fill="rgba(92,106,196,0.35)" id="hero-svg-text">مشاوره تخصصی تغذیه</text>
        </svg>
      </div>
    </section>

    <section id="pricing" class="section" aria-label="تعرفه‌ها">
      <h2 id="pricing-title">سطوح مشاوره و تعرفه‌ها</h2>
      <div class="cards" id="pricing-cards">
        <!-- Content will be loaded dynamically from JSON -->
      </div>
    </section>

    <section id="how-it-works" class="section" aria-label="نحوه کار">
      <h2 id="how-title">چگونه کار می‌کند</h2>
      <div class="grid-2" id="how-steps">
        <!-- Content will be loaded dynamically from JSON -->
      </div>
    </section>

    <section class="section followups" aria-label="ویژگی‌های اضافی">
      <h2 id="support-title">ویژگی‌های پشتیبان</h2>
      <p id="support-description">حمایت روانی-تغذیه‌ای در مسیر درمان و اصلاحات انعطاف‌پذیر.</p>
      <div class="grid-2" id="support-features">
        <!-- Content will be loaded dynamically from JSON -->
      </div>
    </section>

    <section id="contact" class="section" aria-label="تماس و رزرو">
      <h2 id="contact-title">رزرو و تماس</h2>
      <p id="contact-description">برای شروع، یک جلسه کوتاه رزرو کنید تا میزان نیاز شما ارزیابی شود و هزینه نهایی مشاوره کامل اعلام گردد.</p>
      <div class="card" style="max-width:800px; margin:auto; display:flex; flex-direction:column; gap:16px;">
        <form id="contact-form">
          <div style="display:flex; flex-wrap:wrap; gap:12px;">
            <div style="flex:1; min-width:150px;">
              <label id="name-label">نام کامل</label><br />
              <input type="text" required style="width:100%; padding:10px; border-radius:8px; border:1px solid #d1d9e6;" id="name-input" placeholder="مثلاً: علی محمدی">
            </div>
            <div style="flex:1; min-width:150px;">
              <label id="email-label">ایمیل</label><br />
              <input type="email" required style="width:100%; padding:10px; border-radius:8px; border:1px solid #d1d9e6;" id="email-input" placeholder="you@example.com">
            </div>
          </div>
          <div style="display:flex; flex-wrap:wrap; gap:12px; margin-top:8px;">
            <div style="flex:1; min-width:150px;">
              <label id="country-label">کشور اقامت</label><br />
              <input type="text" required style="width:100%; padding:10px; border-radius:8px; border:1px solid #d1d9e6;" id="country-input" placeholder="مثلاً: آلمان">
            </div>
            <div style="flex:1; min-width:150px;">
              <label id="message-label">پیام / توضیح کوتاه</label><br />
              <textarea rows="2" style="width:100%; padding:10px; border-radius:8px; border:1px solid #d1d9e6;" id="message-input" placeholder="توضیح مختصر درباره وضعیت فعلی"></textarea>
            </div>
          </div>
          <div style="margin-top:12px;">
            <button type="submit" class="btn-primary" style="width:100%;" id="submit-button">درخواست جلسه کوتاه</button>
          </div>
        </form>
      </div>
      <p class="small" style="margin-top:8px;" id="after-submit-text">پس از ثبت، تیم هماهنگی برای تعیین زمان و ارسال لینک جلسه با شما تماس خواهد گرفت.</p>
    </section>

    <footer>
      <p id="footer-text">© ۲۰۲۵ دکتر بهروز رسایی. تمام حقوق محفوظ است. | خدمات ویژه برای ایرانیان خارج از کشور.</p>
    </footer>
  </div>

<script>
  let currentLang = 'fa';

  let content = null;

  // Load content from JSON file
  async function loadContent() {
    try {
      const response = await fetch('./content.json');
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      content = await response.json();
      console.log('Content loaded successfully from JSON:', content);
      updateContent();
    } catch (error) {
      console.error('Error loading content:', error);
      // Fallback: show default content if JSON fails to load
      showDefaultContent();
    }
  }

  // Fallback function to show default content
  function showDefaultContent() {
    console.log('Using fallback content - please serve via web server to load JSON');
    document.getElementById('pricing-cards').innerHTML = `
      <div class="card">
        <h3>مشاوره کوتاه</h3>
        <div class="price-row">
          <span class="old-price">$80</span>
          <span class="price">$25</span>
        </div>
        <p class="small">Please serve this page via a web server to load content from JSON file</p>
      </div>
    `;
  }

  // Update all page content based on current language
  function updateContent() {
    if (!content) return;
    
    const lang = content.languages[currentLang];
    
    // Update document meta
    document.title = lang.meta.title;
    document.documentElement.lang = lang.meta.lang;
    document.documentElement.dir = lang.meta.dir;
    document.getElementById('main-container').style.direction = lang.meta.dir;
    
    // Update header
    document.getElementById('logo-text').innerHTML = lang.header.logo;
    document.getElementById('lang-toggle').textContent = lang.header.langToggle;
    document.getElementById('book-button').textContent = lang.header.bookButton;
    
    // Update hero section
    document.getElementById('hero-badge').textContent = lang.hero.badge;
    document.getElementById('hero-title').textContent = lang.hero.title;
    document.getElementById('hero-description').textContent = lang.hero.description;
    document.getElementById('see-pricing-button').textContent = lang.hero.seePricingButton;
    document.getElementById('hero-svg-text').textContent = lang.hero.svgText;
    
    // Update pricing section
    document.getElementById('pricing-title').textContent = lang.pricing.title;
    updatePricingCards(lang.pricing.packages);
    
    // Update how it works section
    document.getElementById('how-title').textContent = lang.howItWorks.title;
    updateHowItWorksSteps(lang.howItWorks.steps);
    
    // Update support section
    document.getElementById('support-title').textContent = lang.support.title;
    document.getElementById('support-description').textContent = lang.support.description;
    updateSupportFeatures(lang.support.features);
    
    // Update contact section
    document.getElementById('contact-title').textContent = lang.contact.title;
    document.getElementById('contact-description').textContent = lang.contact.description;
    updateContactForm(lang.contact.form);
    document.getElementById('after-submit-text').textContent = lang.contact.afterSubmit;
    
    // Update footer
    document.getElementById('footer-text').textContent = lang.footer.text;
    
    // Update price row direction
    updatePriceRowDirection();
  }

  function updatePricingCards(packages) {
    console.log('Updating pricing cards with packages:', packages);
    const container = document.getElementById('pricing-cards');
    if (!container) {
      console.error('pricing-cards container not found');
      return;
    }
    container.innerHTML = '';
    
    packages.forEach((pkg, index) => {
      console.log(`Creating card ${index}:`, pkg);
      const cardDiv = document.createElement('div');
      cardDiv.className = `card${pkg.featured ? ' featured-card' : ''}`;
      
      let html = `<h3>${pkg.title}</h3>`;
      
      if (pkg.sessionText) {
        html += `<div class="small" style="font-weight: 600; margin-bottom: 8px;">${pkg.sessionText}</div>`;
      }
      
      html += `
        <div class="price-row">
          <span class="old-price">${pkg.oldPrice}</span>
          <span class="price">${pkg.price}</span>
        </div>
        <div class="small" style="font-weight:600; color:var(--muted); margin-bottom: 12px;">${pkg.duration}</div>
        <ul class="features">
      `;
      
      pkg.features.forEach(feature => {
        html += `<li><span class="feature-check">✔</span> ${feature}</li>`;
      });
      
      html += '</ul>';
      
      if (pkg.note) {
        html += `<div class="small" style="color:var(--muted); margin-bottom:8px;">${pkg.note}</div>`;
      }
      
      cardDiv.innerHTML = html;
      container.appendChild(cardDiv);
      console.log(`Card ${index} added to container`);
    });
    console.log('All cards updated, container children:', container.children.length);
  }

  function updateHowItWorksSteps(steps) {
    const container = document.getElementById('how-steps');
    container.innerHTML = '';
    
    steps.forEach(step => {
      const stepDiv = document.createElement('div');
      stepDiv.className = 'faq';
      stepDiv.innerHTML = `
        <h4>${step.title}</h4>
        <p>${step.description}</p>
      `;
      container.appendChild(stepDiv);
    });
  }

  function updateSupportFeatures(features) {
    const container = document.getElementById('support-features');
    container.innerHTML = '';
    
    features.forEach(feature => {
      const featureDiv = document.createElement('div');
      featureDiv.innerHTML = `
        <h4>${feature.title}</h4>
        <p>${feature.description}</p>
      `;
      container.appendChild(featureDiv);
    });
  }

  function updateContactForm(form) {
    document.getElementById('name-label').textContent = form.nameLabel;
    document.getElementById('name-input').placeholder = form.namePlaceholder;
    document.getElementById('email-label').textContent = form.emailLabel;
    document.getElementById('email-input').placeholder = form.emailPlaceholder;
    document.getElementById('country-label').textContent = form.countryLabel;
    document.getElementById('country-input').placeholder = form.countryPlaceholder;
    document.getElementById('message-label').textContent = form.messageLabel;
    document.getElementById('message-input').placeholder = form.messagePlaceholder;
    document.getElementById('submit-button').textContent = form.submitButton;
  }

  function updatePriceRowDirection() {
    document.querySelectorAll('.cards .price-row').forEach(function(row) {
      const price = row.querySelector('.price');
      const oldPrice = row.querySelector('.old-price');
      
      if (currentLang === 'en') {
        // LTR: old-price left, price right
        if (price && oldPrice && price.nextElementSibling === oldPrice) {
          row.insertBefore(oldPrice, price);
        }
        row.style.direction = 'ltr';
      } else {
        // RTL: price right, old-price left
        if (price && oldPrice && oldPrice.nextElementSibling === price) {
          row.insertBefore(price, oldPrice);
        }
        row.style.direction = 'rtl';
      }
    });
  }

  // Language toggle functionality
  function toggleLanguage() {
    currentLang = currentLang === 'fa' ? 'en' : 'fa';
    updateContent();
  }

  // Initialize the page
  document.addEventListener('DOMContentLoaded', function() {
    loadContent();
    
    // Add event listener for language toggle
    document.getElementById('lang-toggle').addEventListener('click', toggleLanguage);
  });
</script>

</body>

</html>
